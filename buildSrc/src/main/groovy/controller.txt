package xd.app.controller;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.data.domain.Example;
import org.springframework.data.domain.Page;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.ResponseBody;

import xd.app.bean.&Bean&;
import xd.app.dao.&Bean&Repository;
import xd.fw.controller.BaseController;

/**
 * auto generated by gradle
 */

@Controller
@RequestMapping("&bean&")
public class &Bean&Controller extends BaseController {
    @Autowired
    &Bean&Repository &bean&Repository;

    @RequestMapping("obtain")
    @ResponseBody
    public PageContent obtain(int page, int limit, &Bean& query) {
        Page<&Bean&> list = &bean&Repository.findAll(Example.of(query, queryMatcher()), pageRequest(page, limit));
        return page(list);
    }

    @RequestMapping("delete")
    @ResponseBody
    public String delete(int[] ids) {
        for (int id : ids) {
            &bean&Repository.delete(id);
        }
        return DONE;
    }

    @RequestMapping("save")
    @ResponseBody
    public String save(&Bean& &bean&) throws Exception {
        &bean&Repository.save(&bean&);
        return DONE;
    }
}